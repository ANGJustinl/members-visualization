const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/index.CDjEh1uI.js","assets/chunks/index.BiBfcChI.js"])))=>i.map(i=>d[i]);
import{_ as H,p as x,q as ee,c as y,o as w,j as e,F as G,B as Q,n as te,t as h,a as O,e as B,v as V,G as q,h as X,P as F,V as oe,x as ae,N as se,ag as ne}from"./chunks/framework.CjaFt1eW.js";import{i as M,L as le}from"./chunks/index.BiBfcChI.js";const re={class:"organization-table"},ie={class:"rank-number"},ce={class:"name-cell"},de={key:0,href:"https://github.com/datawhalechina",target:"_blank",rel:"noopener noreferrer",class:"datawhale-link"},ue={key:0,class:"positive"},fe={key:1,class:"negative"},me={key:2},ve={__name:"OrganizationTable",props:{organizationData:{type:Array,default:()=>[]}},setup(A){const p=A,c=x(p.organizationData),b=l=>l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return ee(()=>p.organizationData,l=>{c.value=l},{deep:!0}),(l,S)=>(w(),y("table",re,[S[0]||(S[0]=e("thead",null,[e("tr",null,[e("th",null,"æ’å"),e("th",null,"ç»„ç»‡åç§°"),e("th",null,"Staræ•°"),e("th",null,"æ–°å¢Star"),e("th",null,"æ’åå˜åŒ–")])],-1)),e("tbody",null,[(w(!0),y(G,null,Q(c.value,s=>(w(),y("tr",{key:s.name,class:te({"highlight-row":s.name==="datawhalechina"})},[e("td",null,[e("span",ie,h(s.rank),1)]),e("td",ce,[s.name==="datawhalechina"?(w(),y("a",de,h(s.name),1)):(w(),y(G,{key:1},[O(h(s.name),1)],64))]),e("td",null,h(b(s.star_count)),1),e("td",null,"+"+h(b(s.starAdd)),1),e("td",null,[s.rankAdd<0?(w(),y("span",ue,h(`â†‘${Math.abs(s.rankAdd)}`),1)):B("",!0),s.rankAdd>0?(w(),y("span",fe,h(`â†“${Math.abs(s.rankAdd)}`),1)):B("",!0),s.rankAdd===0?(w(),y("span",me,h(`${Math.abs(s.rankAdd)}`),1)):B("",!0)])],2))),128))])]))}},he=H(ve,[["__scopeId","data-v-efd1a9cc"]]),pe={class:"wrapper"},be={key:0,class:"loading"},ge={key:1,class:"error"},_e={__name:"Organization",setup(A){const p=x([]),c=x(!1),b=x(null),l=async()=>{const s="/members-visualization/data/datawhalechina/organization_datasource.json".replace(/\/+/g,"/"),j=await fetch(s);if(!j.ok)throw new Error(`HTTP error! status: ${j.status}`);return(await j.json()).top10KnowledgeSharingOrganizationInfo};return V(async()=>{try{c.value=!0,b.value=null,p.value=await l()}catch(S){b.value=S.message}finally{c.value=!1}}),(S,s)=>(w(),y("div",pe,[c.value?(w(),y("div",be,[...s[0]||(s[0]=[e("p",null,"æ­£åœ¨åŠ è½½æ•°æ®...",-1)])])):b.value?(w(),y("div",ge,[e("p",null,"åŠ è½½æ•°æ®æ—¶å‡ºé”™: "+h(b.value),1)])):B("",!0),q(he,{"organization-data":p.value},null,8,["organization-data"])]))}},ye=H(_e,[["__scopeId","data-v-516cda31"]]),we={class:"charts"},xe={key:0,class:"loading"},Se={key:1,class:"error"},$e={key:2},ke={class:"stats-overview"},De={class:"stat-card"},Ce={class:"stat-number"},Pe={class:"stat-card"},ze={class:"stat-number"},Oe={class:"stat-card"},je={class:"stat-number"},Me={class:"stat-card"},Te={class:"stat-number"},Ee={class:"chart-container"},Le={class:"chart-container"},Ae={key:0,class:"chart-container"},Ne={key:1,class:"chart-container"},Re={class:"chart-container"},Ie={__name:"Charts",setup(A){const p=x(!1),c=x(!1),b=x(null),l=x(null),S=x(null),s=x(null),j=x(!0),E=x(null),P=x([]),d=x({});let o=null,u=null,i=null,r=null;const k=()=>{typeof window<"u"&&(c.value=document.documentElement.classList.contains("dark"))},g=()=>c.value?"dark":"light",m=()=>c.value?{textColor:"#ffffff",backgroundColor:"#1a1a1a",axisLineColor:"#484848",splitLineColor:"#484848"}:{textColor:"#333333",backgroundColor:"#ffffff",axisLineColor:"#e0e0e0",splitLineColor:"#f0f0f0"},C=()=>{const _=Object.entries(d.value).sort((a,f)=>f[1]-a[1]).slice(0,10).map(([a,f])=>({name:a,value:f}));return{title:{text:"ç ”ç©¶æ–¹å‘åˆ†å¸ƒ",subtext:"æˆå‘˜ç ”ç©¶æ–¹å‘ç»Ÿè®¡",left:"center",textStyle:{fontSize:20,fontWeight:"bold",color:m().textColor},subtextStyle:{fontSize:14,color:c.value?"#cccccc":"#666666"}},tooltip:{trigger:"item",formatter:function(a){const f=a.percent,$=a.value;return`${a.seriesName}<br/>${a.name}: ${$} äºº (${f}%)`}},legend:{orient:"vertical",left:"left",top:"middle",itemGap:12,textStyle:{fontSize:12,color:m().textColor}},series:[{name:"ç ”ç©¶æ–¹å‘",type:"pie",radius:["40%","70%"],center:["60%","50%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:20,fontWeight:"bold"}},labelLine:{show:!1},data:_,animationType:"scale",animationEasing:"elasticOut",animationDelay:function(a){return Math.random()*200}}]}},L=()=>{const _=Object.entries(d.value).sort((a,f)=>f[1]-a[1]).slice(0,15);return{title:{text:"ç ”ç©¶æ–¹å‘ç»Ÿè®¡",subtext:`å¹³å‡æ¯äººæ¶‰åŠ ${N.value.avgDomainsPerMember} ä¸ªæ–¹å‘`,left:"center",textStyle:{fontSize:20,fontWeight:"bold",color:m().textColor},subtextStyle:{fontSize:14,color:c.value?"#cccccc":"#666666"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow",shadowStyle:{color:"rgba(0, 0, 0, 0.1)"}},formatter:function(a){const f=a[0],$=P.value.length,z=(f.value/$*100).toFixed(1);return`${f.name}<br/>æˆå‘˜æ•°é‡: ${f.value} äºº<br/>å æ¯”: ${z}%`}},grid:{left:"5%",right:"5%",bottom:"15%",top:"20%",containLabel:!0},xAxis:{type:"category",data:_.map(([a,f])=>a),axisLabel:{rotate:45,interval:0,fontSize:12,color:m().textColor},axisLine:{lineStyle:{color:m().axisLineColor}}},yAxis:{type:"value",name:"æˆå‘˜æ•°é‡",nameTextStyle:{color:m().textColor,fontSize:12},axisLabel:{color:m().textColor},axisLine:{lineStyle:{color:m().axisLineColor}},splitLine:{lineStyle:{color:m().splitLineColor}}},series:[{name:"æˆå‘˜æ•°é‡",type:"bar",barWidth:"60%",data:_.map(([a,f],$)=>({value:f,itemStyle:{color:new le(0,0,0,1,[{offset:0,color:`hsl(${$*30%360}, 70%, 60%)`},{offset:1,color:`hsl(${$*30%360}, 70%, 40%)`}])}})),animationDelay:function(a){return a*50}}]}},J=()=>{const _=Object.entries(d.value).filter(([a,f])=>a&&a.trim()&&f>0).sort((a,f)=>f[1]-a[1]).slice(0,30).map(([a,f],$)=>({name:a.trim(),value:f,textStyle:{fontSize:Math.max(14,Math.min(40,f*4+16)),color:U()[$%U().length]}}));return console.log("è¯äº‘æ•°æ®:",_),{title:{text:"ç ”ç©¶æ–¹å‘è¯äº‘",subtext:"å­—ä½“å¤§å°åæ˜ çƒ­é—¨ç¨‹åº¦",left:"center",textStyle:{fontSize:20,fontWeight:"bold",color:m().textColor},subtextStyle:{fontSize:14,color:c.value?"#cccccc":"#666666"}},tooltip:{formatter:function(a){return`${a.name}: ${a.value} äºº`},backgroundColor:c.value?"rgba(0, 0, 0, 0.8)":"rgba(255, 255, 255, 0.9)",borderColor:c.value?"#666":"#ccc",textStyle:{color:c.value?"#fff":"#333"}},backgroundColor:"transparent",series:[{type:"wordCloud",gridSize:4,sizeRange:[14,40],rotationRange:[-45,45],rotationStep:15,shape:"circle",left:"center",top:"center",width:"85%",height:"75%",right:null,bottom:null,drawOutOfBound:!1,layoutAnimation:!0,textStyle:{fontFamily:"Arial, Microsoft YaHei, sans-serif",fontWeight:"bold"},emphasis:{focus:"self",textStyle:{shadowBlur:8,shadowColor:c.value?"rgba(255, 255, 255, 0.5)":"rgba(0, 0, 0, 0.5)",textBorderColor:c.value?"#fff":"#000",textBorderWidth:1}},data:_}]}},U=()=>c.value?["#6b9bd2","#a5d86c","#ffcc5c","#ff7875","#87ceeb","#52c41a","#ff9c6e","#b37feb","#f759ab","#36cfc9","#ffc53d","#ff85c0","#95de64","#5cdbd3","#85a5ff"]:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc","#13c2c2","#faad14","#eb2f96","#52c41a","#1890ff","#722ed1"],K=()=>{const _=P.value.filter(t=>t&&t.name&&(t.id||t.name)),a=Object.keys(d.value).filter(t=>t&&t.trim()),f=new Set,$=_.map(t=>{const v=`member_${t.id||t.name}`;return f.has(v)?(console.warn(`é‡å¤çš„æˆå‘˜èŠ‚ç‚¹ID: ${v}`),null):(f.add(v),{id:v,name:t.name,category:0,symbolSize:Math.max(20,Math.min(50,Math.log2((t.domain&&Array.isArray(t.domain)?t.domain.length:1)+1)*15)),itemStyle:{color:"#5470c6"}})}).filter(Boolean),z=new Set,T=a.map(t=>{const v=`domain_${t}`;if(z.has(v))return console.warn(`é‡å¤çš„ç ”ç©¶æ–¹å‘èŠ‚ç‚¹ID: ${v}`),null;z.add(v);const D=d.value[t]||1;return{id:v,name:t,category:1,symbolSize:Math.max(25,Math.min(80,Math.log2(D+1)*20)),itemStyle:{color:"#91cc75"}}}).filter(Boolean),R=[...$,...T],I=[],n=new Set;return _.forEach(t=>{const v=`member_${t.id||t.name}`;f.has(v)&&t.domain&&Array.isArray(t.domain)&&t.domain.forEach(D=>{if(D&&D.trim()){const W=`domain_${D}`,Y=`${v}-${W}`;!n.has(Y)&&z.has(W)&&(n.add(Y),I.push({source:v,target:W,lineStyle:{color:c.value?"#666":"#999",width:2,opacity:.6}}))}})}),{title:{text:"æˆå‘˜ä¸ç ”ç©¶æ–¹å‘å…³ç³»ç½‘ç»œ",subtext:"èŠ‚ç‚¹å¤§å°åæ˜ è¿æ¥æ•°é‡ï¼Œæ”¯æŒæ‹–æ‹½å’Œç¼©æ”¾",left:"center",top:"2%",textStyle:{fontSize:18,fontWeight:"bold",color:m().textColor},subtextStyle:{fontSize:12,color:c.value?"#cccccc":"#666666"}},grid:{left:"15%",right:"15%",top:"25%",bottom:"20%",containLabel:!0},tooltip:{trigger:"item",formatter:function(t){var v;if(t.dataType==="node")if(t.data.category===0){const D=((v=P.value.find(W=>W.name===t.data.name))==null?void 0:v.domain)||[];return`æˆå‘˜: ${t.data.name}<br/>ç ”ç©¶æ–¹å‘: ${D.join(", ")}`}else{const D=d.value[t.data.name]||0;return`ç ”ç©¶æ–¹å‘: ${t.data.name}<br/>æˆå‘˜æ•°é‡: ${D} äºº`}return t.data.name}},legend:{data:["æˆå‘˜","ç ”ç©¶æ–¹å‘"],right:"3%",top:"12%",orient:"vertical",itemGap:15,textStyle:{color:m().textColor,fontSize:12},itemWidth:14,itemHeight:14},series:[{name:"å…³ç³»ç½‘ç»œ",type:"graph",layout:"force",data:R,links:I,categories:[{name:"æˆå‘˜",itemStyle:{color:"#5470c6"}},{name:"ç ”ç©¶æ–¹å‘",itemStyle:{color:"#91cc75"}}],roam:!0,focusNodeAdjacency:!0,draggable:!0,force:{repulsion:400,gravity:.2,edgeLength:[20,80],layoutAnimation:!0,friction:.8,initLayout:"circular"},left:100,right:100,top:150,bottom:120,label:{show:!0,position:"right",formatter:"{b}",fontSize:10,color:m().textColor,distance:5},lineStyle:{color:"source",curveness:.2,opacity:.6},emphasis:{focus:"adjacency",lineStyle:{width:6,opacity:.8}}}]}},Z=()=>{try{console.log("å¼€å§‹åˆ·æ–°æ‰€æœ‰å›¾è¡¨ä»¥é€‚åº”ä¸»é¢˜å˜åŒ–"),o&&b.value&&(o.dispose(),o=M(b.value,g()),o.setOption(C())),u&&l.value&&(u.dispose(),u=M(l.value,g()),u.setOption(L())),i&&S.value&&p.value&&(i.dispose(),i=M(S.value,g()),i.setOption(J())),r&&s.value&&(r.dispose(),r=M(s.value,g()),r.setOption(K())),console.log("æ‰€æœ‰å›¾è¡¨å·²åˆ·æ–°ä»¥é€‚åº”ä¸»é¢˜å˜åŒ–")}catch(_){console.error("åˆ·æ–°å›¾è¡¨æ—¶å‡ºé”™:",_)}},N=X(()=>{var $;const _=P.value.length,a=Object.keys(d.value).length,f=_>0?(P.value.reduce((z,T)=>z+T.domain.length,0)/_).toFixed(1):0;return{totalMembers:_,totalDomains:a,avgDomainsPerMember:f,mostPopularDomain:(($=Object.entries(d.value).sort((z,T)=>T[1]-z[1])[0])==null?void 0:$[0])||"æš‚æ— "}});return V(async()=>{try{let _=function(){try{if(o&&o.dispose(),o=M(b.value,g()),!o){console.error("é¥¼å›¾åˆå§‹åŒ–å¤±è´¥");return}o.setOption(C())}catch(n){console.error("é¥¼å›¾åˆå§‹åŒ–å‡ºé”™:",n)}};k(),typeof window<"u"&&new MutationObserver(()=>{const t=document.documentElement.classList.contains("dark");t!==c.value&&(c.value=t,setTimeout(()=>{Z()},100))}).observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),await F();const f="/members-visualization/data/members.json".replace(/\/+/g,"/");console.log("Fetching data from:",f);const $=await fetch(f);if(!$.ok)throw new Error(`HTTP error! status: ${$.status}`);const T=(await $.json()).map(n=>(Object.keys(n).forEach(t=>{let v=n[t]||"";typeof v=="string"&&(v=v.trim().replace(/^"|"$/g,"")),["domain","repositories"].includes(t)&&(v?v=v.split(";").map(D=>D.trim()).filter(D=>D):v=[]),n[t]=v}),n));P.value=T,console.log("Parsed members:",P.value);const R={};P.value.forEach(n=>{n.domain.forEach(t=>{t&&(R[t]=(R[t]||0)+1)})}),d.value=R,console.log("Domain count:",d.value),j.value=!1,await F(),await new Promise(n=>setTimeout(n,100));try{console.log("å¼€å§‹åŠ è½½è¯äº‘æ’ä»¶...");const n=new Promise((v,D)=>{setTimeout(()=>D(new Error("è¯äº‘æ’ä»¶åŠ è½½è¶…æ—¶")),5e3)}),t=async()=>{if(typeof window<"u"){const v=await oe(()=>import("./chunks/index.CDjEh1uI.js"),__vite__mapDeps([0,1]));return console.log("è¯äº‘æ’ä»¶åŠ è½½æˆåŠŸ (å®¢æˆ·ç«¯)",v),!0}return!1};await Promise.race([t(),n]),p.value=!0,console.log("è¯äº‘æ’ä»¶å·²æˆåŠŸå¯ç”¨")}catch(n){console.error("è¯äº‘æ’ä»¶åŠ è½½å¤±è´¥:",n),p.value=!1,console.warn("è¯äº‘å›¾å°†ä¸ä¼šæ˜¾ç¤ºï¼Œä½†ä¸å½±å“å…¶ä»–åŠŸèƒ½")}await F();const I=async(n=5)=>{if(!b.value&&n>0)return console.log(`é¥¼å›¾å®¹å™¨æœªæ‰¾åˆ°ï¼Œç­‰å¾…DOMæ¸²æŸ“... (å‰©ä½™é‡è¯•: ${n})`),await new Promise(t=>setTimeout(t,200)),I(n-1);if(!b.value){console.error("é¥¼å›¾å®¹å™¨æœ€ç»ˆæœªæ‰¾åˆ°ï¼Œè·³è¿‡é¥¼å›¾åˆå§‹åŒ–");return}_()};if(await I(),!l.value)console.warn("æŸ±çŠ¶å›¾å®¹å™¨æœªæ‰¾åˆ°ï¼Œè·³è¿‡æŸ±çŠ¶å›¾åˆå§‹åŒ–");else try{if(u&&u.dispose(),u=M(l.value,g()),!u){console.error("æŸ±çŠ¶å›¾åˆå§‹åŒ–å¤±è´¥");return}u.setOption(L())}catch(n){console.error("æŸ±çŠ¶å›¾åˆå§‹åŒ–å‡ºé”™:",n)}if(p.value&&S.value)try{console.log("å¼€å§‹åˆå§‹åŒ–è¯äº‘å›¾..."),console.log("è¯äº‘æ•°æ®æ¡ç›®æ•°:",Object.entries(d.value).length);const n=S.value;if(console.log("è¯äº‘å®¹å™¨å°ºå¯¸:",{width:n.offsetWidth,height:n.offsetHeight,clientWidth:n.clientWidth,clientHeight:n.clientHeight}),(n.offsetWidth===0||n.offsetHeight===0)&&(console.warn("è¯äº‘å›¾å®¹å™¨å°ºå¯¸ä¸º0ï¼Œè®¾ç½®é»˜è®¤å°ºå¯¸"),n.style.width="100%",n.style.height="450px",await F()),i&&i.dispose(),i=M(n,g()),!i)throw new Error("è¯äº‘å›¾è¡¨å®ä¾‹åˆ›å»ºå¤±è´¥");const t=J();console.log("è¯äº‘å›¾é…ç½®æ•°æ®é¡¹æ•°é‡:",t.series[0].data.length),console.log("è¯äº‘å›¾å‰5é¡¹æ•°æ®:",t.series[0].data.slice(0,5)),i.setOption(t,!0),setTimeout(()=>{i&&!i.isDisposed()&&(i.resize(),console.log("è¯äº‘å›¾é‡æ–°è°ƒæ•´å°ºå¯¸å®Œæˆ"))},200),console.log("è¯äº‘å›¾åˆå§‹åŒ–å®Œæˆ")}catch(n){console.error("è¯äº‘å›¾åˆå§‹åŒ–å¤±è´¥:",n),console.error("é”™è¯¯å †æ ˆ:",n.stack)}else console.warn("è¯äº‘å›¾è·³è¿‡:",{wordCloudLoaded:p.value,wordCloudRef:!!S.value,containerExists:!!S.value,containerVisible:S.value?S.value.offsetWidth>0:!1});if(!s.value)console.warn("ç½‘ç»œå›¾å®¹å™¨æœªæ‰¾åˆ°ï¼Œè·³è¿‡ç½‘ç»œå›¾åˆå§‹åŒ–");else try{if(r=M(s.value,g()),!r){console.error("ç½‘ç»œå›¾åˆå§‹åŒ–å¤±è´¥");return}const n=K();r.setOption(n)}catch(n){console.error("ç½‘ç»œå›¾åˆå§‹åŒ–å‡ºé”™:",n)}window.handleResize=()=>{o==null||o.resize(),u==null||u.resize(),i==null||i.resize(),r==null||r.resize()},window.addEventListener("resize",window.handleResize)}catch(_){console.error("Error loading data:",_),E.value=_.message,j.value=!1}}),ae(()=>{o==null||o.dispose(),u==null||u.dispose(),i==null||i.dispose(),r==null||r.dispose(),window.removeEventListener("resize",window.handleResize)}),(_,a)=>(w(),y("div",we,[j.value?(w(),y("div",xe,[...a[0]||(a[0]=[e("p",null,"æ­£åœ¨åŠ è½½æ•°æ®...",-1)])])):E.value?(w(),y("div",Se,[e("p",null,"åŠ è½½æ•°æ®æ—¶å‡ºé”™: "+h(E.value),1)])):(w(),y("div",$e,[e("div",ke,[e("div",De,[e("div",Ce,h(N.value.totalMembers),1),a[1]||(a[1]=e("div",{class:"stat-label"},"æ€»æˆå‘˜æ•°",-1))]),e("div",Pe,[e("div",ze,h(N.value.totalDomains),1),a[2]||(a[2]=e("div",{class:"stat-label"},"ç ”ç©¶æ–¹å‘æ•°",-1))]),e("div",Oe,[e("div",je,h(N.value.avgDomainsPerMember),1),a[3]||(a[3]=e("div",{class:"stat-label"},"å¹³å‡æ–¹å‘æ•°/äºº",-1))]),e("div",Me,[e("div",Te,h(N.value.mostPopularDomain),1),a[4]||(a[4]=e("div",{class:"stat-label"},"æœ€çƒ­é—¨æ–¹å‘",-1))])]),e("div",Ee,[e("div",{ref_key:"pieRef",ref:b,class:"chart"},null,512)]),e("div",Le,[e("div",{ref_key:"barRef",ref:l,class:"chart"},null,512)]),p.value?(w(),y("div",Ae,[e("div",{ref_key:"wordCloudRef",ref:S,class:"chart","data-chart-type":"wordcloud"},null,512)])):(w(),y("div",Ne,[...a[5]||(a[5]=[e("div",{class:"loading"},[e("p",null,"è¯äº‘æ’ä»¶åŠ è½½ä¸­...")],-1)])])),e("div",Re,[e("div",{ref_key:"networkRef",ref:s,class:"chart-large","data-chart-type":"network"},null,512)])]))]))}},We=H(Ie,[["__scopeId","data-v-0a365517"]]),Be={class:"data-export"},Fe={class:"quick-stats"},qe={class:"stat-grid"},He={class:"stat-item"},Ve={class:"stat-value"},Ge={class:"stat-item"},Je={class:"stat-value"},Ue={class:"stat-item"},Ke={class:"stat-value"},Ye={class:"stat-item"},Qe={class:"stat-value"},Xe={class:"domain-details"},Ze={class:"domain-list"},et={class:"domain-name"},tt={class:"domain-stats"},ot={class:"count"},at={class:"percentage"},st={class:"progress-bar"},nt={class:"export-actions"},lt={class:"action-buttons"},rt=["disabled"],it=["disabled"],ct=["disabled"],dt={key:0,class:"exporting-indicator"},ut={__name:"DataExport",setup(A){const p=x(!1),c=x([]),b=x({}),l=x(!0),S=async()=>{try{const o="/members-visualization/data/members.json".replace(/\/+/g,"/"),u=await fetch(o);if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);const r=(await u.json()).map(g=>(Object.keys(g).forEach(m=>{let C=g[m]||"";typeof C=="string"&&(C=C.trim().replace(/^"|"$/g,"")),["domain"].includes(m)&&(C?C=C.split(";").map(L=>L.trim()).filter(L=>L):C=[]),g[m]=C}),g));c.value=r;const k={};r.forEach(g=>{g.domain.forEach(m=>{m&&(k[m]=(k[m]||0)+1)})}),b.value=k}catch(d){console.error("DataExportæ•°æ®åŠ è½½å¤±è´¥:",d)}finally{l.value=!1}};V(()=>{S()});const s=X(()=>{var r,k;const d=c.value.length,o=Object.keys(b.value).length,u=d>0?(c.value.reduce((g,m)=>g+m.domain.length,0)/d).toFixed(2):0,i=Object.entries(b.value).sort((g,m)=>m[1]-g[1]).map(([g,m])=>({domain:g,count:m,percentage:(m/d*100).toFixed(1)}));return{totalMembers:d,totalDomains:o,avgDomainsPerMember:u,domainStats:i,mostPopularDomain:((r=i[0])==null?void 0:r.domain)||"æš‚æ— ",leastPopularDomain:((k=i[i.length-1])==null?void 0:k.domain)||"æš‚æ— "}}),j=()=>{p.value=!0;try{const o=[["ID","å§“å","GitHubé“¾æ¥","ç ”ç©¶æ–¹å‘"].join(",")];c.value.forEach(k=>{const g=[k.id,`"${k.name}"`,`"${k.github}"`,`"${k.domain.join(";")}"`];o.push(g.join(","))});const u=o.join(`
`),i=new Blob(["\uFEFF"+u],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");if(r.download!==void 0){const k=URL.createObjectURL(i);r.setAttribute("href",k),r.setAttribute("download",`members_data_${new Date().toISOString().split("T")[0]}.csv`),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}catch(d){console.error("å¯¼å‡ºå¤±è´¥:",d),alert("å¯¼å‡ºå¤±è´¥ï¼Œè¯·é‡è¯•")}finally{p.value=!1}},E=()=>{p.value=!0;try{const d={exportDate:new Date().toISOString(),summary:{totalMembers:s.value.totalMembers,totalDomains:s.value.totalDomains,avgDomainsPerMember:parseFloat(s.value.avgDomainsPerMember),mostPopularDomain:s.value.mostPopularDomain,leastPopularDomain:s.value.leastPopularDomain},domainStatistics:s.value.domainStats,memberDetails:c.value.map(r=>({id:r.id,name:r.name,github:r.github,domains:r.domain,domainCount:r.domain.length}))},o=JSON.stringify(d,null,2),u=new Blob([o],{type:"application/json"}),i=document.createElement("a");if(i.download!==void 0){const r=URL.createObjectURL(u);i.setAttribute("href",r),i.setAttribute("download",`members_report_${new Date().toISOString().split("T")[0]}.json`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}catch(d){console.error("å¯¼å‡ºå¤±è´¥:",d),alert("å¯¼å‡ºå¤±è´¥ï¼Œè¯·é‡è¯•")}finally{p.value=!1}},P=async()=>{try{const d=`
ç»„ç»‡æˆå‘˜ç»Ÿè®¡æŠ¥å‘Š
ç”Ÿæˆæ—¶é—´: ${new Date().toLocaleString()}

åŸºæœ¬ç»Ÿè®¡:
- æ€»æˆå‘˜æ•°: ${s.value.totalMembers}
- ç ”ç©¶æ–¹å‘æ•°: ${s.value.totalDomains}
- å¹³å‡æ–¹å‘æ•°/äºº: ${s.value.avgDomainsPerMember}
- æœ€çƒ­é—¨æ–¹å‘: ${s.value.mostPopularDomain}

ç ”ç©¶æ–¹å‘åˆ†å¸ƒ:
${s.value.domainStats.map(o=>`- ${o.domain}: ${o.count}äºº (${o.percentage}%)`).join(`
`)}
    `.trim();await navigator.clipboard.writeText(d),alert("ç»Ÿè®¡æ•°æ®å·²å¤åˆ¶åˆ°å‰ªè´´æ¿")}catch(d){console.error("å¤åˆ¶å¤±è´¥:",d),alert("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©æ–‡æœ¬")}};return(d,o)=>(w(),y("div",Be,[o[9]||(o[9]=e("div",{class:"export-header"},[e("h3",null,"æ•°æ®å¯¼å‡ºä¸ç»Ÿè®¡"),e("p",null,"å¯¼å‡ºæˆå‘˜æ•°æ®å’Œç»Ÿè®¡æŠ¥å‘Š")],-1)),e("div",Fe,[e("div",qe,[e("div",He,[e("div",Ve,h(s.value.totalMembers),1),o[0]||(o[0]=e("div",{class:"stat-label"},"æ€»æˆå‘˜æ•°",-1))]),e("div",Ge,[e("div",Je,h(s.value.totalDomains),1),o[1]||(o[1]=e("div",{class:"stat-label"},"ç ”ç©¶æ–¹å‘æ•°",-1))]),e("div",Ue,[e("div",Ke,h(s.value.avgDomainsPerMember),1),o[2]||(o[2]=e("div",{class:"stat-label"},"å¹³å‡æ–¹å‘æ•°/äºº",-1))]),e("div",Ye,[e("div",Qe,h(s.value.mostPopularDomain),1),o[3]||(o[3]=e("div",{class:"stat-label"},"æœ€çƒ­é—¨æ–¹å‘",-1))])])]),e("div",Xe,[o[4]||(o[4]=e("h4",null,"ç ”ç©¶æ–¹å‘è¯¦ç»†ç»Ÿè®¡",-1)),e("div",Ze,[(w(!0),y(G,null,Q(s.value.domainStats,u=>(w(),y("div",{key:u.domain,class:"domain-item"},[e("div",et,h(u.domain),1),e("div",tt,[e("span",ot,h(u.count)+" äºº",1),e("span",at,h(u.percentage)+"%",1)]),e("div",st,[e("div",{class:"progress-fill",style:se({width:u.percentage+"%"})},null,4)])]))),128))])]),e("div",nt,[o[8]||(o[8]=e("h4",null,"å¯¼å‡ºé€‰é¡¹",-1)),e("div",lt,[e("button",{onClick:j,disabled:p.value,class:"export-btn csv-btn"},[...o[5]||(o[5]=[e("span",{class:"btn-icon"},"ğŸ“Š",-1),O(" å¯¼å‡º CSV æ•°æ® ",-1)])],8,rt),e("button",{onClick:E,disabled:p.value,class:"export-btn json-btn"},[...o[6]||(o[6]=[e("span",{class:"btn-icon"},"ğŸ“‹",-1),O(" å¯¼å‡ºç»Ÿè®¡æŠ¥å‘Š ",-1)])],8,it),e("button",{onClick:P,disabled:p.value,class:"export-btn copy-btn"},[...o[7]||(o[7]=[e("span",{class:"btn-icon"},"ğŸ“„",-1),O(" å¤åˆ¶ç»Ÿè®¡æ•°æ® ",-1)])],8,ct)]),p.value?(w(),y("div",dt," æ­£åœ¨å¯¼å‡ºæ•°æ®... ")):B("",!0)])]))}},ft=H(ut,[["__scopeId","data-v-78bf9768"]]),mt={style:{"margin-top":"4rem","padding-top":"2rem","border-top":"1px solid var(--vp-c-divider)"}},bt=JSON.parse('{"title":"ğŸ“š åŒç±»ç»„ç»‡ç»Ÿè®¡","description":"","frontmatter":{},"headers":[],"relativePath":"organization.md","filePath":"organization.md","lastUpdated":1770006938000}'),vt={name:"organization.md"},gt=Object.assign(vt,{setup(A){const p=x("åŠ è½½ä¸­..."),c=x("åŠ è½½ä¸­...");return V(async()=>{try{const b=await fetch("/members-visualization/data/datawhalechina/fetch_time_key.json");if(b.ok){const l=await b.json();p.value=l[l.length-4],c.value=l[l.length-1]}}catch(b){console.error("è·å–æ—¶é—´æ•°æ®å¤±è´¥:",b)}}),(b,l)=>(w(),y("div",null,[l[0]||(l[0]=e("h1",{id:"ğŸ“š-åŒç±»ç»„ç»‡ç»Ÿè®¡",tabindex:"-1"},[O("ğŸ“š åŒç±»ç»„ç»‡ç»Ÿè®¡ "),e("a",{class:"header-anchor",href:"#ğŸ“š-åŒç±»ç»„ç»‡ç»Ÿè®¡","aria-label":'Permalink to "ğŸ“š åŒç±»ç»„ç»‡ç»Ÿè®¡"'},"â€‹")],-1)),l[1]||(l[1]=e("h2",{id:"åŒç±»ç»„ç»‡æ•°æ®æ¦‚è§ˆ",tabindex:"-1"},[O("åŒç±»ç»„ç»‡æ•°æ®æ¦‚è§ˆ "),e("a",{class:"header-anchor",href:"#åŒç±»ç»„ç»‡æ•°æ®æ¦‚è§ˆ","aria-label":'Permalink to "åŒç±»ç»„ç»‡æ•°æ®æ¦‚è§ˆ"'},"â€‹")],-1)),e("p",null,"ä»¥ä¸‹æ˜¯ GitHub ä¸Š Star æ•°æ’åå‰åçš„çŸ¥è¯†åˆ†äº«ç±»ç»„ç»‡åœ¨ "+h(p.value)+" è‡³ "+h(c.value)+" ç»Ÿè®¡å‘¨æœŸå†…çš„å˜åŒ–æƒ…å†µï¼š",1),q(ye),l[2]||(l[2]=e("h2",{id:"æ•°æ®æ›´æ–°",tabindex:"-1"},[O("æ•°æ®æ›´æ–° "),e("a",{class:"header-anchor",href:"#æ•°æ®æ›´æ–°","aria-label":'Permalink to "æ•°æ®æ›´æ–°"'},"â€‹")],-1)),l[3]||(l[3]=e("p",null,"æ•°æ®æ–‡ä»¶ä¼šé€šè¿‡ GitHub Actions è‡ªåŠ¨æ›´æ–°ï¼š",-1)),l[4]||(l[4]=e("ol",null,[e("li",null,"æ¯æœˆè‡ªåŠ¨è¿è¡Œæ•°æ®æ”¶é›†è„šæœ¬"),e("li",null,[O("æ•°æ®ç›´æ¥ä¿å­˜åˆ° "),e("code",null,"docs/public/data/"),O(" ç›®å½•ä¾›å‰ç«¯ä½¿ç”¨")])],-1)),e("p",null,[e("em",null,"æ•°æ®æœ€åæ›´æ–°æ—¶é—´ï¼š"+h(new Date().getFullYear())+" å¹´ "+h(new Date().getMonth()+1)+" æœˆ 1 æ—¥",1)]),l[5]||(l[5]=e("hr",null,null,-1)),l[6]||(l[6]=e("h2",{id:"ğŸ“Š-æ•°æ®æ¦‚è§ˆ",tabindex:"-1"},[O("ğŸ“Š æ•°æ®æ¦‚è§ˆ "),e("a",{class:"header-anchor",href:"#ğŸ“Š-æ•°æ®æ¦‚è§ˆ","aria-label":'Permalink to "ğŸ“Š æ•°æ®æ¦‚è§ˆ"'},"â€‹")],-1)),l[7]||(l[7]=e("p",null,"ä»¥ä¸‹å›¾è¡¨å±•ç¤ºäº†ç»„ç»‡è´¡çŒ®è€…çš„ç ”ç©¶æ–¹å‘åˆ†å¸ƒæƒ…å†µï¼š",-1)),q(We),l[8]||(l[8]=ne("",8)),e("div",mt,[q(ft)])]))}});export{bt as __pageData,gt as default};
